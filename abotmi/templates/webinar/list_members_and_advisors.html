{% extends 'webinar/webinar_home.html' %}
{% load staticfiles %}
{% block custom_theme_css %}
{{block.super}}
<style>
    .webinar-reg-btn{
        font-size: 12px;
    }
</style>
{% endblock %}
{% block main_content %}
    <section class="subpage-reia-primary" id="about">
        <div class="container">
            <div class="row n-margin-0">
                <div class="col-md-8">
                    {% include 'webinar/common_list_members.html' with view_members=final_total_members user_profile_obj=final_total_advisors %}
                </div>
            </div>
        </div>
    </section>
{% endblock %}
{% block scripts %}
<script src="/static/admin_theme/plugins/datatables/jquery.dataTables.js"
        type="text/javascript"></script>
<script src="/static/admin_theme/plugins/datatables/dataTables.bootstrap.js"
        type="text/javascript"></script>
    <script type="text/javascript">
        $(document).ready(function(){
            $('#table_id').dataTable({
                "orderFixed": [ 0, 'asc' ]
            });
            row_ids = $("#table_id_wrapper").find('.row');
            for (i=0; i < row_ids.length; i++){
                $("."+row_ids[i].className).addClass('n-margin-lr-0');
            }
    });
    </script>
    <script type="text/javascript">
        var token = '{{csrf_token}}';
        function register_member(id, type) {
            $.ajax({
                type: 'POST',
                beforeSend: function(request) {
                    request.setRequestHeader("X-CSRFToken",token);
                },
                url: '{% url "webinar:register_member" room_id=room_id %}',
                data: {
                    'member_details' : $("#"+type+id.toString()).val(),
                },
                success: function (response) {
                    if(response == 'success'){
                        var parent_td = $('#'+id).parent();
                        $("#"+id).remove();
                        parent_td.html('<span class="label label-success">Registered</span>');
                    }
                },
                error: function (response) {
                    alert('unable to register');
                }
            });
        }
    </script>
{% endblock %}
{% block theme_scripts %}
    {{block.super}}
{% endblock %}
